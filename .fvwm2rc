########################################
# |==] \\    // || /\ || |\    /| /===)#
# ||    \\  //  ||//\\|| |\\  //| ~ // #
# |==]   \\//   |//  \\| ||\\//||  //  #
# ||      \/    |/    \| || \/ || (===]#
########################################
# Author: Bryan E. Barnhart            #
########################################


###############
#Desktop Setup#
###############

# Setup Desktop Configuratioon
DesktopSize 3x2
DesktopName 0	Main
DesktopName 1	Work
DesktopName 2	Games

# controls edge scrolling behavior
EdgeScroll 100 100
EdgeResistance 150 150
EdgeThickness 1

#Constrols usable area
EwmhBaseStruts 1 -1 1 -81

# Mouse General Behavior
ColormapFocus FollowsMouse
ClickTime 500
MoveThreshold 3

###############Color Sets###################
colorset 1 fg black, bg darkorange
colorset 2 fg white, bg darkolivegreen
colorset 3 fg white, bg darkslategrey
###############




################Styles Setup################

################
#General Styles#
################

# General Window Styles
Style * 	TileCascadePlacement
#Style *		Colorset 2
Style * 	HilightColorset 1
Style * 	MWMFunctions, MWMDecor, HintOverride
Style *		DecorateTransient, !UsePPosition
Style *		FocusFollowsMouse

#Setup IconBox area
Style * 	IconBox 1 -80 -171 -1

#Setup general fonts
Style *		Font xft:FreeSerif:Medium:Regular:size=10
Style *		IconFont xft:FreeSerif:Medium:Regular:size=10

#############
#Menu Styles#
#############

MenuStyle * fvwm
MenuStyle * MenuColorset 3
MenuStyle * Font xft:inconsolata:Medium:Regular:size=11

#####################
#Pager/Button Styles#
#####################

# General Module settings
Style Fvwm*	!Title, Sticky, WindowListSkip
Style Fvwm*	BorderWidth 2, HandleWidth 0, CirculateSkipIcon, CirculateSkip

# Specific Pager Styles
Style FvwmPager StaysOnTop


DestroyModuleConfig MyButtons: *
*MyButtons: Geometry 340x80-1-1
*MyButtons: Colorset 3
*MyButtons: Frame 0
*MyButtons: Rows 1
*MyButtons: Columns 2
*MyButtons: (1x1, Frame 0, Swallow "FvwmIconMan" "Module FvwmIconMan")
*MyButtons: (1x1, Frame 0, Swallow "FvwmPager" "Module FvwmPager")

DestroyModuleConfig FvwmIconMan: *
*FvwmIconMan: NumManagers 1
*FvwmIconMan: Resolution  page
*FvwmIconMan: Format 	  "%t"
*FvwmIconMan: Action      Mouse	1 A sendcommand Focus, sendcommand "Iconify"
#Note: I can't seem to get it to focus on the element after iconifying it
*FvwmIconMan: Action	  Select sendcommand Focus
*FvwmIconMan: SelectButton down
*FvwmIconMan: FocusAndSelectButton down
*FvwmIconMan: Sort id
*FvwmIconMan: FollowFocus true
#*FvwmIconMan: Colorset 3
*FvwmIconMan: Background darkslategrey
*FvwmIconMan: ButtonGeometry 80x20
*FvwmIconMan: ManagerGeometry 2x5

DestroyModuleConfig FvwmPager: *
*FvwmPager: Geometry 170x80-1-1
#####################
#Program Style Setup#
#####################

# Insert specific program styles (such as xterm) here.

################

################Mouse Click Behavior################

# Setup Title Bar buttons
Mouse 0 1	A	Menu MenuFvwmWindowOps Close
Mouse 0 4	A	Iconify

# Iconify and deiconify things when clicked
Mouse 1 I	A	FuncFvwmMoveOrIconify
Mouse 2 I	A	Iconify

# General background clicks
Mouse 1 R	A	Menu MenuFvwmRoot Nop
#Add middle mouse button here
Mouse 3 R	A	WindowList

################

################Menues################

##############
#Mouse Menues#
##############

# right click menu
DestroyMenu MenuFvwmRoot
AddToMenu MenuFvwmRoot	"$[gt.Root Menu]"	Title
+			"&1. XTerm"	Exec exec xterm
+			""	Nop
+			"&M. Midori"	Exec exec midori
+			"&F. Firefox"	Exec exec firefox
+			""	Nop
+			"&G. Games"	Popup MenuFvwmGames
+			"&U. Utilities"	Popup MenuFvwmUtilities
+			"&V. Fvwm2"	Popup MenuFvwmControl
+			"&P. Power"	Popup MenuFvwmPower

DestroyMenu MenuFvwmGames
AddToMenu MenuFvwmGames		"$[gt.Games]"	Title
+			"&S. Steam"		Exec exec steam
+			"&M. Minecraft" 	Exec minecraft
+			"&F. Feed The Beast"	Exec feedthebeast

DestroyMenu MenuFvwmUtilities
AddToMenu MenuFvwmUtilities	"$[gt.Utilities]" Title
+			"&T. Top"	Exec exec xterm -T Top -n Top -e top

DestroyMenu MenuFvwmControl
AddToMenu MenuFvwmControl "$[gt.Fvwm2]"	Title
+			"&Q. Quit"	Quit
+			"&R. Restart"	Restart

DestroyMenu MenuFvwmPower
AddToMenu MenuFvwmPower		"$[gt.Power]"	Title
+			"&L. Log Off"		Quit
+			"&S. Suspend"		Exec systemctl suspend
+			"&H. Hibernate"		Nop
+			"&R. Reboot"		Exec systemctl reboot
+			"&P. Power Off"		Exec systemctl poweroff

###############
#Window Menues#
###############

#Button 1 Menu
DestroyMenu MenuFvwmWindowOps
AddToMenu MenuFvwmWindowOps
+			"$[gt.(Un)&Stick]"	Stick
+			"$[gt.&Lower]"		Lower
+			"$[gt.&Raise]"		Raise
+			""			Nop
+ 			"$[gt.&Close]"		Close
+ 			"$[gt.&Destroy]"	Destroy

################

################Functions################

# USES:
#  Click-Titlebar 
DestroyFunc FuncFvwmMoveOrIconify
AddToFunc FuncFvwmMoveOrIconify
+ I Raise
+ M Move
+ D Iconify

################

################Init Function################

AddToFunc StartFunction
+ I Module FvwmButtons MyButtons
################
